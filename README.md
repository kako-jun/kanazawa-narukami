# 金沢は今日も鳴雷（なるかみ）

金沢の曇り空と落雷をテーマにした、ブラウザで動作するリアルタイム雷予測ゲーム。

## 🎮 ゲーム概要

プレイヤーは次の5分間でどのエリアに雷が落ちるかを予測し、オッズに応じてポイントを獲得します。

## ✨ 特徴

- **5分間のラウンド制**: 各ラウンドで雷の落下エリアを予測
- **16エリアのグリッド**: 金沢市を4x4のグリッドに分割（A1〜D4）
- **動的オッズシステム**: 雷の発生確率に基づいてオッズが変動
- **美しいUI**: 曇り空の背景、雷光エフェクト、青い斜め手書きフォント
- **スコアシステム**: ベットして勝利すればオッズに応じてポイント獲得

## 🎯 ゲームの流れ

1. **エリア選択**: 地図上の16エリアから1つ選択
2. **ベット額設定**: 50pt / 100pt / 250pt / 500pt から選択
3. **ベット確定**: 「ベット確定」ボタンでベット
4. **結果判定**: 5分経過後、雷の落下位置を判定
5. **スコア更新**: 的中すればオッズ×ベット額を獲得

## 🎲 オッズシステム

- **高確率エリア**: オッズ低め（例: ×1.2）
- **低確率エリア**: オッズ高め（例: ×3.5）
- **計算式**: `オッズ = (1 / 確率) × 0.9`

確率は雷雲の中心からの距離に基づいて動的に計算されます。

## 🎨 デザイン

- **タイトル**: 「金沢は今日も鳴雷」を青い斜めフォントで表示
- **背景**: グラデーションの曇り空アニメーション
- **エフェクト**:
  - 雷光フラッシュ（的中時）
  - 画面暗転（外れ時）
  - パルスアニメーション
  - 雲の移動アニメーション

## 🚀 使い方

### ローカルで実行

```bash
# リポジトリをクローン
git clone https://github.com/kako-jun/kanazawa-narukami.git

# ディレクトリに移動
cd kanazawa-narukami

# ブラウザでindex.htmlを開く
open index.html
```

または、シンプルなHTTPサーバーを起動：

```bash
# Python 3の場合
python -m http.server 8000

# ブラウザで http://localhost:8000 を開く
```

### GitHub Pagesで公開

1. GitHubリポジトリの Settings > Pages に移動
2. Source を `main` ブランチに設定
3. 数分後、`https://kako-jun.github.io/kanazawa-narukami/` でアクセス可能

## 📁 ファイル構成

```
kanazawa-narukami/
├── index.html      # メインHTML
├── style.css       # スタイルシート（背景、エフェクト、レイアウト）
├── game.js         # ゲームロジック
└── README.md       # このファイル
```

## 🎯 今後の実装予定

### Phase 1: データ統合 🔄
- [ ] 気象庁「雷ナウキャスト」画像取得機能
- [ ] Canvas画像解析による雷検出
- [ ] リアルタイム確率計算

### Phase 2: 機能拡張 📈
- [ ] 雷音エフェクト（Web Audio API）
- [ ] ランキングシステム
- [ ] 過去の雷データ分析
- [ ] 予測精度の表示

### Phase 3: UI/UX改善 ✨
- [ ] より詳細な金沢地図
- [ ] 天気情報の統合
- [ ] モバイル対応強化
- [ ] ダークモード

## 🛠️ 技術スタック

- **HTML5**: 構造
- **CSS3**: スタイリング、アニメーション
- **JavaScript (Vanilla)**: ゲームロジック
- **Canvas API**: 地図描画、画像解析（予定）
- **Google Fonts**: Klee One（手書き風フォント）

## 📊 現在の状態

✅ 完成している機能:
- UIレイアウト（タイトル、地図、コントロール）
- 16エリアグリッドシステム
- ベットシステム（選択、確定、クリア）
- オッズ計算ロジック
- 5分間ラウンドタイマー
- スコアリングシステム
- 履歴表示
- 雷光エフェクト
- 結果判定と表示

🔄 開発中:
- 気象庁データ取得（現在はシミュレーション）
- リアルタイム雷検出

## 🎮 操作方法

1. **エリア選択**: 地図上のエリアをクリック
2. **ベット額**: 下部のボタン（50/100/250/500pt）をクリック
3. **ベット確定**: 緑の「ベット確定」ボタンをクリック
4. **クリア**: 赤い「クリア」ボタンで選択解除

## 📝 ライセンス

MIT License

## 👨‍💻 作者

kako-jun

---

**金沢の空を見上げて、次の雷を予測せよ！⚡**
